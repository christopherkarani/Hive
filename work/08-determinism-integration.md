Prompt:
Goal: Enforce determinism and integrate tool registry bridge + event emission.
Task BreakDown
- Enforce lexicographic sorting where required.
- Ensure deterministic message IDs and tool call ordering.
- Add tool registry bridge behavior.
- Verify event emission matches expected behavior.
Expected Output:
- Deterministic ordering and registry bridge in place.
Constraints:
- No nondeterministic IDs or ordering.
